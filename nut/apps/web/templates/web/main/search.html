{% extends 'web/base.html' %}
{% load i18n %}

{% block title %}搜索 - {{ keyword }}{% endblock %}


{% block content %}
    <div class="container">
        <div class="row search-header">
            <h2><span>「{{ keyword }}」</span>的搜索结果</h2>
        </div>
        <nav class="navbar navbar-search navbar-static-top" role="navigation">
            <div class="container">
{#                <div class="navbar-collapse collapse">#}
                    <ul class="nav navbar-nav">
{#                        {% for row in results %}#}
                            <li {% if type == 'e' %}class="active"{% endif %}>
                                <a href="{% url 'web_search' %}?q={{ keyword }}&t=e">{% trans 'entity' %}&nbsp;<strong>{{ entity_count }}</strong></a>
                            </li>
                            <li {% if type == 'u' %}class="active"{% endif %}>
                                <a href="{% url 'web_search' %}?q={{ keyword }}&t=u">{% trans 'user' %}&nbsp;<strong>{{ user_count }}</strong></a>
                            </li>
                            <li {% if type == 't' %}class="active"{% endif %}>
                                <a href="{% url 'web_search' %}?q={{ keyword }}&t=t">{% trans 'tags' %}&nbsp;<strong>{{ tag_count }}</strong></a>
                            </li>
{#                        {% endfor %}#}
                    </ul>
{#                </div>#}
            </div>
        </nav>

        <div class="row">
            {% if type == 'u' %}
                {% for user in results %}
                    {% include 'web/main/partial/user.html' with user_context=user %}
                {% endfor %}
            {% elif type == 't' %}
                {% for tag in results %}
                    {% include 'web/main/partial/tags.html' with tag_context=tag %}
                {% endfor %}
            {% else %}
                {% for entity in results %}
                    {% include 'web/main/partial/entity.html' with entity=entity %}
                {% endfor %}
            {% endif %}
        </div>

        {% if objects %}
            {% include "web/main/partial/search/paginator.html" with objects=objects type=type url=request.path keyword=keyword %}
        {% endif %}

    </div>
{% endblock %}